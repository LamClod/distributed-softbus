syntax = "proto3";

package softbus.service;

// 设备信息
message DeviceInfo {
    string device_id = 1;       // 设备唯一标识
    string device_name = 2;     // 设备名称
    string device_type = 3;     // 设备类型
    map<string, string> capabilities = 4;  // 设备能力
}

// 服务信息
message ServiceInfo {
    string service_id = 1;      // 服务唯一标识
    string service_name = 2;    // 服务名称
    string device_id = 3;       // 所属设备ID
    repeated string methods = 4;  // 支持的方法列表
    map<string, string> metadata = 5;  // 服务元数据
}

// 服务注册请求
message ServiceRegisterRequest {
    ServiceInfo service = 1;
    int64 timestamp = 2;
}

// 服务注册响应
message ServiceRegisterResponse {
    bool success = 1;
    string message = 2;
}

// 服务发现请求
message ServiceDiscoveryRequest {
    string service_name = 1;    // 要查询的服务名称（可选）
    string device_id = 2;       // 要查询的设备ID（可选）
}

// 服务发现响应
message ServiceDiscoveryResponse {
    repeated ServiceInfo services = 1;
}
